(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{4708:function(e,r,n){Promise.resolve().then(n.bind(n,5960))},5960:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return c}});var t=n(9268),i=n(6006),a=n(2824);function s(){return(0,t.jsx)("div",{style:{display:"inline-block"},children:(0,t.jsx)("svg",{style:{margin:"auto",background:"none",display:"block"},width:"24px",height:"24px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:(0,t.jsx)("circle",{cx:"50",cy:"50",fill:"none",stroke:"#fff",strokeWidth:"10",r:"35",strokeDasharray:"164.93361431346415 56.97787143782138",children:(0,t.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})})})})}function c(){let[e,r]=(0,i.useState)(1),[n,c]=(0,i.useState)(""),[l,o]=(0,i.useState)(!1),u=async e=>{o(!0);try{let r=await a.M6.commands.pay({app_id:"api_a2V5XzZjNjg2YzVlMGI4ZmQ0ZWVlYjEyMDdmYzM4OTgwNzE5OnNrXzI0OGY5NjYyOTM2ZDI5Mjc3NThjNmI4Njk3NThmY2VlYWU3ZjIyMWM0YzVlOWNhMg",amount:e.toString(),currency:"WLD",description:"티켓 ".concat(e,"장 구매 (수수료 5% 차감)")});if(r&&"success"===r.status)alert("✅ 결제 성공! \uD83C\uDF9F️ 티켓이 정상적으로 구매되었습니다.");else throw Error("결제가 정상적으로 완료되지 않았습니다.")}catch(e){console.error("❌ 결제 오류:",e),d((null==e?void 0:e.error_code)||"unknown_error")}finally{o(!1)}},d=e=>{switch(console.error("⛔ 오류 코드:",e),e){case"payment_rejected":c("결제가 취소되었습니다. \uD83D\uDE22");break;case"insufficient_balance":c("잔액이 부족합니다. 지갑 잔액을 확인해주세요!");break;case"invalid_receiver":c("수신 주소가 잘못되었습니다. 관리자에게 문의하세요!");break;case"transaction_failed":c("거래가 실패했습니다. 잠시 후 다시 시도해주세요!");break;default:c("❌ 예상치 못한 오류가 발생했습니다. 다시 시도해 주세요.")}},h=()=>{if(isNaN(e)||e<1||e>100){alert("⚠️ 티켓 수량은 1장 이상 100장 이하로 입력해야 합니다.");return}u(e)};return(0,t.jsxs)("div",{style:{padding:20},children:[(0,t.jsx)("h1",{children:"\uD83C\uDF9F️ 티켓 구매"}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{children:["티켓 수량:",(0,t.jsx)("input",{type:"number",value:e,onChange:e=>r(parseInt(e.target.value,10)||1),min:"1",max:"100",style:{width:60,marginLeft:8}})]})}),(0,t.jsx)("button",{onClick:h,style:{marginTop:12},disabled:l,children:l?(0,t.jsx)(s,{}):"구매하기"}),n&&(0,t.jsxs)("div",{style:{marginTop:16,color:"red"},children:[(0,t.jsx)("strong",{children:"오류:"})," ",n]})]})}}},function(e){e.O(0,[699,667,139,744],function(){return e(e.s=4708)}),_N_E=e.O()}]);